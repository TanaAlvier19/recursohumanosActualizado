# Generated by Django 5.2.5 on 2025-10-04 07:09

import django.core.validators
import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('app', '0007_remove_departamento_funcionarios_departamento_local'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='DescontosImposto',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('desconto_inss', models.DecimalField(decimal_places=4, help_text='Percentual de desconto INSS (0.0 a 1.0)', max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(1)])),
                ('irt2', models.DecimalField(decimal_places=4, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(1)])),
                ('irt3', models.DecimalField(decimal_places=4, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(1)])),
                ('irt4', models.DecimalField(decimal_places=4, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(1)])),
                ('irt5', models.DecimalField(decimal_places=4, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(1)])),
                ('irt6', models.DecimalField(decimal_places=4, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(1)])),
                ('irt7', models.DecimalField(decimal_places=4, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(1)])),
                ('atualizado_em', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Configuração de Impostos',
                'verbose_name_plural': 'Configurações de Impostos',
            },
        ),
        migrations.CreateModel(
            name='RelatorioContabil',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo', models.CharField(choices=[('FOLHA_ANALITICA', 'Folha Analítica'), ('FOLHA_SINTETICA', 'Folha Sintética'), ('PROVISOES', 'Provisões'), ('ENCARGOS', 'Encargos Sociais')], max_length=20)),
                ('periodo', models.CharField(help_text='Formato: YYYY-MM', max_length=20)),
                ('data_geracao', models.DateTimeField(auto_now_add=True)),
                ('total_bruto', models.DecimalField(decimal_places=2, default=0, max_digits=15)),
                ('total_descontos', models.DecimalField(decimal_places=2, default=0, max_digits=15)),
                ('total_liquido', models.DecimalField(decimal_places=2, default=0, max_digits=15)),
                ('total_encargos', models.DecimalField(decimal_places=2, default=0, max_digits=15)),
                ('arquivo_gerado', models.FileField(blank=True, null=True, upload_to='relatorios_contabeis/')),
                ('observacoes', models.TextField(blank=True)),
            ],
            options={
                'verbose_name': 'Relatório Contábil',
                'verbose_name_plural': 'Relatórios Contábeis',
                'ordering': ['-data_geracao'],
            },
        ),
        migrations.CreateModel(
            name='RelatorioFiscal',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo', models.CharField(choices=[('SEFIP', 'SEFIP'), ('DIRF', 'DIRF'), ('RAIS', 'RAIS'), ('CAGED', 'CAGED'), ('ESOCIAL', 'eSocial')], max_length=20)),
                ('periodo', models.CharField(help_text='Formato: YYYY-MM ou YYYY', max_length=20)),
                ('data_geracao', models.DateTimeField(auto_now_add=True)),
                ('status', models.CharField(choices=[('GERADO', 'Gerado'), ('ENVIADO', 'Enviado'), ('PROCESSANDO', 'Processando')], default='GERADO', max_length=15)),
                ('total_funcionarios', models.IntegerField(default=0)),
                ('total_remuneracao', models.DecimalField(decimal_places=2, default=0, max_digits=15)),
                ('total_encargos', models.DecimalField(decimal_places=2, default=0, max_digits=15)),
                ('arquivo_gerado', models.FileField(blank=True, null=True, upload_to='relatorios_fiscais/')),
                ('observacoes', models.TextField(blank=True)),
            ],
            options={
                'verbose_name': 'Relatório Fiscal',
                'verbose_name_plural': 'Relatórios Fiscais',
                'ordering': ['-data_geracao'],
            },
        ),
        migrations.CreateModel(
            name='Emprestimo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('valor_solicitado', models.DecimalField(decimal_places=2, max_digits=12)),
                ('valor_aprovado', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('numero_parcelas', models.IntegerField(validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(60)])),
                ('valor_parcela', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('taxa_juros', models.DecimalField(decimal_places=2, default=0, help_text='Taxa de juros mensal (%)', max_digits=5)),
                ('valor_total', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('parcelas_pagas', models.IntegerField(default=0)),
                ('valor_pago', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('saldo_devedor', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('data_solicitacao', models.DateField(auto_now_add=True)),
                ('data_aprovacao', models.DateField(blank=True, null=True)),
                ('data_primeira_parcela', models.DateField(blank=True, null=True)),
                ('status', models.CharField(choices=[('SOLICITADO', 'Solicitado'), ('APROVADO', 'Aprovado'), ('REJEITADO', 'Rejeitado'), ('EM_PAGAMENTO', 'Em Pagamento'), ('QUITADO', 'Quitado'), ('CANCELADO', 'Cancelado')], default='SOLICITADO', max_length=15)),
                ('motivo', models.TextField()),
                ('observacoes', models.TextField(blank=True)),
                ('criado_em', models.DateTimeField(auto_now_add=True)),
                ('atualizado_em', models.DateTimeField(auto_now=True)),
                ('aprovado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='emprestimos', to=settings.AUTH_USER_MODEL)),
                ('funcionario', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='emprestimos', to='app.funcionario')),
            ],
            options={
                'verbose_name': 'Empréstimo',
                'verbose_name_plural': 'Empréstimos',
                'ordering': ['-data_solicitacao'],
            },
        ),
        migrations.CreateModel(
            name='Ferias',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('periodo_aquisitivo_inicio', models.DateField()),
                ('periodo_aquisitivo_fim', models.DateField()),
                ('data_inicio', models.DateField()),
                ('data_fim', models.DateField()),
                ('dias_corridos', models.IntegerField(validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(30)])),
                ('dias_abono', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(10)])),
                ('adiantamento_13', models.BooleanField(default=False)),
                ('valor_ferias', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('valor_abono', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('valor_13_adiantado', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('valor_total', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('status', models.CharField(choices=[('PROGRAMADA', 'Programada'), ('APROVADA', 'Aprovada'), ('EM_GOZO', 'Em Gozo'), ('CONCLUIDA', 'Concluída'), ('CANCELADA', 'Cancelada')], default='PROGRAMADA', max_length=15)),
                ('data_aprovacao', models.DateTimeField(blank=True, null=True)),
                ('observacoes', models.TextField(blank=True)),
                ('criado_em', models.DateTimeField(auto_now_add=True)),
                ('atualizado_em', models.DateTimeField(auto_now=True)),
                ('aprovado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='ferias', to=settings.AUTH_USER_MODEL)),
                ('funcionario', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='ferias', to='app.funcionario')),
            ],
            options={
                'verbose_name': 'Férias',
                'verbose_name_plural': 'Férias',
                'ordering': ['-data_inicio'],
            },
        ),
        migrations.CreateModel(
            name='FolhaPagamento',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('mes_referencia', models.DateField(help_text='Primeiro dia do mês de referência')),
                ('status', models.CharField(choices=[('RASCUNHO', 'Rascunho'), ('EM_PROCESSAMENTO', 'Em Processamento'), ('PROCESSADA', 'Processada'), ('APROVADA', 'Aprovada'), ('PAGA', 'Paga'), ('CANCELADA', 'Cancelada')], default='RASCUNHO', max_length=20)),
                ('total_bruto', models.DecimalField(decimal_places=2, default=0, max_digits=15)),
                ('total_descontos', models.DecimalField(decimal_places=2, default=0, max_digits=15)),
                ('total_liquido', models.DecimalField(decimal_places=2, default=0, max_digits=15)),
                ('total_encargos', models.DecimalField(decimal_places=2, default=0, max_digits=15)),
                ('total_funcionarios', models.IntegerField(default=0)),
                ('data_processamento', models.DateTimeField(blank=True, null=True)),
                ('data_aprovacao', models.DateTimeField(blank=True, null=True)),
                ('data_pagamento', models.DateTimeField(blank=True, null=True)),
                ('observacoes', models.TextField(blank=True)),
                ('criado_em', models.DateTimeField(auto_now_add=True)),
                ('atualizado_em', models.DateTimeField(auto_now=True)),
                ('aprovado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='folha_pagamento', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Folha de Pagamento',
                'verbose_name_plural': 'Folhas de Pagamento',
                'ordering': ['-mes_referencia'],
                'unique_together': {('mes_referencia',)},
            },
        ),
        migrations.CreateModel(
            name='HoraExtra',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('data', models.DateField()),
                ('tipo', models.CharField(choices=[('NORMAL', 'Normal (50%)'), ('NOTURNA', 'Noturna (75%)'), ('DOMINGO_FERIADO', 'Domingo/Feriado (100%)')], default='NORMAL', max_length=20)),
                ('horas', models.DecimalField(decimal_places=2, max_digits=5, validators=[django.core.validators.MinValueValidator(0)])),
                ('valor_hora', models.DecimalField(decimal_places=2, max_digits=10)),
                ('percentual_adicional', models.DecimalField(decimal_places=2, default=50, max_digits=5)),
                ('valor_total', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('status', models.CharField(choices=[('PENDENTE', 'Pendente'), ('APROVADA', 'Aprovada'), ('REJEITADA', 'Rejeitada'), ('PAGA', 'Paga')], default='PENDENTE', max_length=15)),
                ('justificativa', models.TextField()),
                ('data_aprovacao', models.DateTimeField(blank=True, null=True)),
                ('observacoes', models.TextField(blank=True)),
                ('criado_em', models.DateTimeField(auto_now_add=True)),
                ('atualizado_em', models.DateTimeField(auto_now=True)),
                ('aprovado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='horas_extras', to=settings.AUTH_USER_MODEL)),
                ('funcionario', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='horas_extras', to='app.funcionario')),
            ],
            options={
                'verbose_name': 'Hora Extra',
                'verbose_name_plural': 'Horas Extras',
                'ordering': ['-data'],
            },
        ),
        migrations.CreateModel(
            name='ReciboPagamento',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('mes_referencia', models.DateField()),
                ('data_emissao', models.DateTimeField(auto_now_add=True)),
                ('status', models.CharField(choices=[('GERADO', 'Gerado'), ('ENVIADO', 'Enviado'), ('VISUALIZADO', 'Visualizado'), ('BAIXADO', 'Baixado')], default='GERADO', max_length=15)),
                ('salario_base', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('horas_extras', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('adicional_noturno', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('comissoes', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('bonus', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('outros_vencimentos', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('inss', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('irt', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('faltas_atrasos', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('vale_transporte', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('emprestimos', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('outros_descontos', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('vale_alimentacao', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('plano_saude', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('seguro_vida', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('salario_bruto', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('total_descontos', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('salario_liquido', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('data_visualizacao', models.DateTimeField(blank=True, null=True)),
                ('data_download', models.DateTimeField(blank=True, null=True)),
                ('folha', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='recibos', to='folha_pagamento.folhapagamento')),
                ('funcionario', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='recibos', to='app.funcionario')),
            ],
            options={
                'verbose_name': 'Recibo de Pagamento',
                'verbose_name_plural': 'Recibos de Pagamento',
                'unique_together': {('folha', 'funcionario')},
            },
        ),
        migrations.CreateModel(
            name='DecimoTerceiro',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ano_referencia', models.IntegerField()),
                ('meses_trabalhados', models.IntegerField(validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(12)])),
                ('salario_base', models.DecimalField(decimal_places=2, max_digits=12)),
                ('valor_bruto', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('inss', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('irt', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('valor_liquido', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('primeira_parcela', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('segunda_parcela', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('data_pagamento_primeira', models.DateField(blank=True, null=True)),
                ('data_pagamento_segunda', models.DateField(blank=True, null=True)),
                ('status', models.CharField(choices=[('CALCULADO', 'Calculado'), ('PRIMEIRA_PARCELA_PAGA', 'Primeira Parcela Paga'), ('SEGUNDA_PARCELA_PAGA', 'Segunda Parcela Paga'), ('PAGO_INTEGRAL', 'Pago Integral')], default='CALCULADO', max_length=30)),
                ('observacoes', models.TextField(blank=True)),
                ('criado_em', models.DateTimeField(auto_now_add=True)),
                ('atualizado_em', models.DateTimeField(auto_now=True)),
                ('funcionario', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='decimo_terceiro', to='app.funcionario')),
            ],
            options={
                'verbose_name': '13º Salário',
                'verbose_name_plural': '13º Salários',
                'ordering': ['-ano_referencia'],
                'unique_together': {('funcionario', 'ano_referencia')},
            },
        ),
        migrations.CreateModel(
            name='ParcelaEmprestimo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero_parcela', models.IntegerField()),
                ('valor', models.DecimalField(decimal_places=2, max_digits=12)),
                ('data_vencimento', models.DateField()),
                ('data_pagamento', models.DateField(blank=True, null=True)),
                ('status', models.CharField(choices=[('PENDENTE', 'Pendente'), ('PAGA', 'Paga'), ('ATRASADA', 'Atrasada')], default='PENDENTE', max_length=15)),
                ('emprestimo', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='parcelas', to='folha_pagamento.emprestimo')),
                ('recibo', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='parcelas_emprestimo', to='folha_pagamento.recibopagamento')),
            ],
            options={
                'verbose_name': 'Parcela de Empréstimo',
                'verbose_name_plural': 'Parcelas de Empréstimos',
                'ordering': ['emprestimo', 'numero_parcela'],
                'unique_together': {('emprestimo', 'numero_parcela')},
            },
        ),
    ]
